{"remainingRequest":"C:\\Users\\15218\\Desktop\\e-commerce\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\15218\\Desktop\\e-commerce\\front\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\15218\\Desktop\\e-commerce\\front\\src\\router\\index.js","mtime":1645016334000},{"path":"C:\\Users\\15218\\Desktop\\e-commerce\\front\\babel.config.js","mtime":1621952492000},{"path":"C:\\Users\\15218\\Desktop\\e-commerce\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15218\\Desktop\\e-commerce\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwpsZXQgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgcmVkaXJlY3Q6ICcvbG9naW4nCn0sIHsKICBwYXRoOiAnL2Zyb250JywKICBuYW1lOiAnRnJvbnQnLAogIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCIuLi9sYXlvdXQvZnJvbnQiKSwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICdob21lJywKICAgIG5hbWU6ICdGcm9udEhvbWUnLAogICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L2hvbWUiKQogIH0sIHsKICAgIHBhdGg6ICdzZWFyY2gnLAogICAgbmFtZTogJ1NlYXJjaCcsCiAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi4vdmlld3MvZnJvbnQvc2VhcmNoIikKICB9LCB7CiAgICBwYXRoOiAnZ29vZHMnLAogICAgbmFtZTogJ0dvb2RzJywKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9nb29kcyIpCiAgfSwgewogICAgcGF0aDogJ2NhcnQnLAogICAgbmFtZTogJ0NhcnQnLAogICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L2NhcnQiKQogIH0sIHsKICAgIHBhdGg6ICdwcmVPcmRlcicsCiAgICBuYW1lOiAnUHJlT3JkZXInLAogICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L3ByZU9yZGVyIikKICB9LCB7CiAgICBwYXRoOiAnb3JkZXInLAogICAgbmFtZTogJ0Zyb250T3JkZXInLAogICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L29yZGVyIikKICB9LCB7CiAgICBwYXRoOiAnY29sbGVjdCcsCiAgICBuYW1lOiAnQ29sbGVjdCcsCiAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi4vdmlld3MvZnJvbnQvY29sbGVjdCIpCiAgfSwgewogICAgcGF0aDogJ3BlcnNvbicsCiAgICBuYW1lOiAnUGVyc29uJywKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9wZXJzb24iKQogIH0sIHsKICAgIHBhdGg6ICdhZGRyZXNzJywKICAgIG5hbWU6ICdBZGRyZXNzJywKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9hZGRyZXNzIikKICB9XQp9LCB7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi4vdmlld3MvbG9naW4iKQp9LCB7CiAgcGF0aDogJy9yZWdpc3RlcicsCiAgbmFtZTogJ1JlZ2lzdGVyJywKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi4vdmlld3MvcmVnaXN0ZXIiKQp9XTsKY29uc3QgY3JlYXRlUm91dGVyID0gKCkgPT4gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIHJvdXRlczogcm91dGVzCn0pOwpjb25zdCByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoKTsKbGV0IHVzZXIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikgPyBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSkgOiB7fTsKcmVzZXRSb3V0ZXIodXNlci5wZXJtaXNzaW9uKTsKCi8v5YaZ5LiA5Liq6YeN572u6Lev55Sx55qE5pa55rOV77yM5YiH5o2i55So5oi35ZCO77yM5oiW6ICF6YCA5Ye65pe25riF6Zmk5Yqo5oCB5Yqg6L2955qE6Lev55SxCmV4cG9ydCBmdW5jdGlvbiByZXNldFJvdXRlcihwZXJtaXNzaW9ucykgewogIGlmIChwZXJtaXNzaW9ucykgewogICAgY29uc3QgbmV3Um91dGVyID0gY3JlYXRlUm91dGVyKCk7CiAgICByb3V0ZXIubWF0Y2hlciA9IG5ld1JvdXRlci5tYXRjaGVyOyAvLyDmlrDot6/nlLHlrp7kvottYXRjZXLvvIzotYvlgLznu5nml6fot6/nlLHlrp7kvovnmoRtYXRjaGVy77yM77yI55u45b2T5LqOcmVwbGFjZVJvdXRlcu+8iQogICAgaWYgKCFyb3V0ZXIuZ2V0Um91dGVzKCkuZmluZCh2ID0+IHYubmFtZSA9PT0gJ01hbmFnZScpKSB7CiAgICAgIHJvdXRlci5hZGRSb3V0ZShnZXRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucykpOwogICAgfQogIH0KfQpmdW5jdGlvbiBnZXRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucykgewogIGxldCBtYW5hZ2UgPSB7CiAgICBwYXRoOiAnL21hbmFnZScsCiAgICBuYW1lOiAnTWFuYWdlJywKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCIuLi9sYXlvdXQvbWFuYWdlIiksCiAgICBjaGlsZHJlbjogW3sKICAgICAgcGF0aDogJ3BlcnNvbicsCiAgICAgIG5hbWU6ICfkuKrkurrkv6Hmga8nLAogICAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi4vdmlld3MvbWFuYWdlL3BlcnNvbiIpCiAgICB9XQogIH07CiAgLy8g6K6+572u6Lev55Sx6I+c5Y2VCiAgaWYgKHBlcm1pc3Npb25zKSB7CiAgICBwZXJtaXNzaW9ucy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICBtYW5hZ2UuY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgcGF0aDogIi9tYW5hZ2UiICsgaXRlbS5wYXRoLAogICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi4vdmlld3MvbWFuYWdlIiArIGl0ZW0ucGF0aCkKICAgICAgfSk7CiAgICB9KTsKICB9CiAgcmV0dXJuIG1hbmFnZTsKfQoKLy8gdnVlUm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tLCBuZXh0KSA9PiB7Ci8vICAgICAvLyDliKTmlq3opoHljrvnmoTot6/nlLHnlYzpnaLmmK/kuI3mmK/opoHpibTmnYMKLy8gICAgIGlmICh0by5wYXRoLmluY2x1ZGVzKCdtYW5hZ2UnKSkgewovLyAgICAgICAgIC8vIOafpeeci+aYr+WQpueZu+mZhgovLyAgICAgICAgIGlmICghdXNlci5pZCkgewovLyAgICAgICAgICAgICAvLyDmsqHnmbvlvZXnmoTlgZrlpITnkIYKLy8gICAgICAgICAgICAgbmV4dCh7Ci8vICAgICAgICAgICAgICAgICBwYXRoOiAnL2xvZ2luJwovLyAgICAgICAgICAgICB9KQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIC8vIOeZu+mZhueahOato+W4uOi3swovLyAgICAgICAgICAgICBuZXh0KCkKLy8gICAgICAgICB9Ci8vICAgICB9IGVsc2UgewovLyAgICAgICAgIC8vIOS4jemcgOimgemJtOadg+eahOato+W4uOi3swovLyAgICAgICAgIG5leHQoKQovLyAgICAgfQovLyB9KQoKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"names":["Vue","VueRouter","use","routes","path","redirect","name","component","children","createRouter","mode","router","user","sessionStorage","getItem","JSON","parse","resetRouter","permission","permissions","newRouter","matcher","getRoutes","find","v","addRoute","getPermissions","manage","forEach","item","push"],"sources":["C:/Users/15218/Desktop/e-commerce/front/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nlet routes = [\r\n    {\r\n        path: '/',\r\n        redirect: '/login',\r\n    },\r\n    {\r\n        path: '/front',\r\n        name: 'Front',\r\n        component: () => import(\"../layout/front\"),\r\n        children: [\r\n            {\r\n                path: 'home',\r\n                name: 'FrontHome',\r\n                component: () => import(\"../views/front/home\")\r\n            },\r\n            {\r\n                path: 'search',\r\n                name: 'Search',\r\n                component: () => import(\"../views/front/search\")\r\n            },\r\n            {\r\n                path: 'goods',\r\n                name: 'Goods',\r\n                component: () => import(\"../views/front/goods\")\r\n            },\r\n            {\r\n                path: 'cart',\r\n                name: 'Cart',\r\n                component: () => import(\"../views/front/cart\")\r\n            },\r\n            {\r\n                path: 'preOrder',\r\n                name: 'PreOrder',\r\n                component: () => import(\"../views/front/preOrder\")\r\n            },\r\n            {\r\n                path: 'order',\r\n                name: 'FrontOrder',\r\n                component: () => import(\"../views/front/order\")\r\n            },\r\n            {\r\n                path: 'collect',\r\n                name: 'Collect',\r\n                component: () => import(\"../views/front/collect\")\r\n            },\r\n            {\r\n                path: 'person',\r\n                name: 'Person',\r\n                component: () => import(\"../views/front/person\")\r\n            },\r\n            {\r\n                path: 'address',\r\n                name: 'Address',\r\n                component: () => import(\"../views/front/address\")\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: () => import(\"../views/login\")\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'Register',\r\n        component: () => import(\"../views/register\")\r\n    },\r\n]\r\n\r\n\r\nconst createRouter = () => new VueRouter({\r\n    mode: 'history',\r\n    routes: routes\r\n})\r\n\r\nconst router = createRouter()\r\n\r\nlet user = sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : {}\r\nresetRouter(user.permission)\r\n\r\n//写一个重置路由的方法，切换用户后，或者退出时清除动态加载的路由\r\nexport function resetRouter(permissions) {\r\n    if (permissions) {\r\n        const newRouter = createRouter()\r\n        router.matcher = newRouter.matcher // 新路由实例matcer，赋值给旧路由实例的matcher，（相当于replaceRouter）\r\n        if (!router.getRoutes().find(v => v.name === 'Manage')) {\r\n            router.addRoute(getPermissions(permissions))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction getPermissions(permissions) {\r\n    let manage = {\r\n        path: '/manage', name: 'Manage', component: () => import(\"../layout/manage\"),\r\n        children: [\r\n            {path: 'person', name: '个人信息', component: () => import(\"../views/manage/person\")}\r\n        ]\r\n    }\r\n    // 设置路由菜单\r\n    if (permissions) {\r\n        permissions.forEach(item => {\r\n            manage.children.push({\r\n                path: \"/manage\" + item.path,\r\n                name: item.name,\r\n                component: () => import(\"../views/manage\" + item.path)\r\n            });\r\n        })\r\n    }\r\n    return manage\r\n}\r\n\r\n\r\n// vueRouter.beforeEach((to, from, next) => {\r\n//     // 判断要去的路由界面是不是要鉴权\r\n//     if (to.path.includes('manage')) {\r\n//         // 查看是否登陆\r\n//         if (!user.id) {\r\n//             // 没登录的做处理\r\n//             next({\r\n//                 path: '/login'\r\n//             })\r\n//         } else {\r\n//             // 登陆的正常跳\r\n//             next()\r\n//         }\r\n//     } else {\r\n//         // 不需要鉴权的正常跳\r\n//         next()\r\n//     }\r\n// })\r\n\r\nexport default router\r\n"],"mappings":"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"}]}